[
  {
    "name": "init",
    "description": "Create or update AGENTS.md for this project",
    "prompt_prefix": "Analyze this codebase and create or update AGENTS.md containing: (1) Build/lint/test commands—especially for running a single test. (2) Code style guidelines: imports, formatting, types, naming conventions, error handling. The file will be given to agentic coding agents (such as yourself) that operate in this repository. Make it about 150 lines long. If there are Cursor rules (Glob \".cursor/rules/*\", \".cursorrules\") or Copilot rules (Glob \".github/copilot-instructions.md\"), include them. Use Read on each path returned by Glob. If AGENTS.md exists: Read it first, then use Edit for each change (preserve unchanged content). If it does not exist: use Write to create it. Respond with a brief summary.",
    "mode": "Build"
  },
  {
    "name": "test",
    "description": "Write unit tests",
    "prompt_prefix": "Write comprehensive unit tests. If no target specified, explore the CWD with ListDir/Read/Grep to find relevant code. Cover edge cases and typical failures.",
    "mode": "Build"
  },
  {
    "name": "review",
    "description": "Review Git changes (commit|branch|pr, defaults to uncommitted)",
    "prompt_prefix": "Review Git changes in the current workspace. When Git context (branch, status) is present in your system prompt, use Bash to run `git diff` and `git diff --staged` to get the code changes. If no Git context is present (e.g. not a repo), run `git status` and `git diff` instead—or inform the user that a Git repo is required. If a scope is specified (commit hash, branch name, or PR), run `git diff <scope>`. Point out bugs, style issues, and improvements. Do not modify files—analysis only.",
    "mode": "Build"
  },
  {
    "name": "explain",
    "description": "Explain code or concepts simply (ELI5 style)",
    "prompt_prefix": "Explain in simple terms, avoiding jargon. Break down complex parts step by step.",
    "mode": "Ask"
  },
  {
    "name": "fix",
    "description": "Fix bugs",
    "prompt_prefix": "Identify and fix bugs. If no code given, explore the CWD with Read/Grep. Apply fixes with Edit or Write.",
    "mode": "Build"
  },
  {
    "name": "refactor",
    "description": "Refactor code",
    "prompt_prefix": "Refactor for better readability and maintainability. Explore CWD if needed. Keep behavior unchanged.",
    "mode": "Build"
  },
  {
    "name": "doc",
    "description": "Add documentation",
    "prompt_prefix": "Add clear documentation (comments, docstrings). If no target given, explore CWD and document key modules.",
    "mode": "Build"
  },
  {
    "name": "commit",
    "description": "Write commit message",
    "prompt_prefix": "Write a conventional commit message: type(scope): description. When Git context (branch, status) is present in your system prompt, run `git diff` and `git diff --staged` for the actual changes. If no Git context is present, run `git status` and `git diff` instead—or inform the user that a Git repo is required.",
    "mode": "Ask"
  },
  {
    "name": "debug",
    "description": "Debug and fix issues",
    "prompt_prefix": "Debug and fix. Explore CWD with Read/Grep if needed. Identify root cause, then apply fix with Edit/Write.",
    "mode": "Build"
  },
  {
    "name": "why",
    "description": "Explain design and rationale",
    "prompt_prefix": "Explain why this is written this way: design choices, trade-offs, rationale. Use Read/Grep to explore context if needed.",
    "mode": "Ask"
  },
  {
    "name": "create-command",
    "description": "Create a new custom command",
    "prompt_prefix": "",
    "mode": "Ask"
  },
  {
    "name": "update-command",
    "description": "Update an existing custom command",
    "prompt_prefix": "",
    "mode": "Ask"
  },
  {
    "name": "delete-command",
    "description": "Delete one or more custom commands",
    "prompt_prefix": "",
    "mode": "Ask"
  }
]
